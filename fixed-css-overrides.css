/* 
 * Fabric Simulator - Educational Edition
 * CSS Fixes for Mobile Responsiveness
 */

/* Ensure mobile responsiveness works correctly */
@media (max-width: 768px) {
  /* Panel positioning fixes */
  #uiContainer {
    position: fixed !important;
    height: 70% !important; 
    bottom: 0 !important;
    top: auto !important;
    width: 100% !important;
    box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.5) !important;
    transform: none !important;
    transition: transform 0.3s ease !important;
  }
  
  /* Collapsed state fix */
  #uiContainer.collapsed {
    transform: translateY(calc(100% - var(--header-height))) !important;
  }
  
  /* Fix toggle button in collapsed state */
  #uiContainer.collapsed #togglePanelBtn {
    position: absolute !important;
    left: 5px !important;
    top: 10px !important;
    width: 40px !important;
    height: 40px !important;
    background-color: var(--bg-surface) !important;
    border-radius: 50% !important;
    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5) !important;
    visibility: visible !important;
    z-index: 200 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
  
  /* Make header elements visible in collapsed state */
  #uiContainer.collapsed .panel-header {
    visibility: visible !important;
  }
  
  /* Ensure canvasContainer takes full screen */
  #canvasContainer {
    position: fixed !important;
    width: 100% !important;
    height: 100% !important;
    z-index: 0 !important;
  }
  
  /* Make action buttons larger for touch */
  .action-btn {
    min-width: 90px !important;
    height: 50px !important;
    padding: 8px 12px !important;
  }
  
  /* Make option buttons larger for touch */
  .option-btn {
    padding: 12px 8px !important;
    font-size: 16px !important;
  }
  
  /* Improve toggle switches for touch */
  .toggle-container {
    width: 54px !important;
    height: 28px !important;
  }
  
  .toggle-label:before {
    height: 22px !important;
    width: 22px !important;
  }
  
  /* Add extra space for scrolling */
  #controlPanel {
    padding-bottom: 100px !important;
  }
}

/* Fix for toggle panel button visibility */
#togglePanelBtn {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  visibility: visible !important;
}

/* Ensure consistent panel header layout */
.panel-header {
  position: relative !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
}

/* Fix tooltip positioning */
#tooltip {
  max-width: 80% !important;
  z-index: 9999 !important;
  pointer-events: none !important;
}

/* Ensure modal is above everything */
.modal {
  z-index: 10000 !important;
}

/* Ensure control panel scrolls correctly */
#controlPanel {
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch !important;
}

/* Fix for initial canvas rendering */
canvas {
  display: block !important;
  width: 100% !important;
  height: 100% !important;
}
